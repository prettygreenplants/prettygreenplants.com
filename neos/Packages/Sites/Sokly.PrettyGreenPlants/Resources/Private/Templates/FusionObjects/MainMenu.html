{namespace neos=Neos\Neos\ViewHelpers}
{namespace fusion=Neos\Fusion\ViewHelpers}

<f:render section="itemList" arguments="{items: items, site: site}" />

<f:section name="itemList">
	<nav id="wow-menu" class="navbar navbar-default navbar-fixed-top">
		<div class="container">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>

				<a class="navbar-brand" href="{neos:uri.node(node: '~')}">{fusion:render(path: 'siteTitle')}</a>
			</div>

			<!-- Menu -->
			<div id="bs-example-navbar-collapse-1" class="collapse navbar-collapse">
				<ul id="menu-top" class="nav navbar-nav navbar-right">
					<f:for each="{items}" as="item">
						<li class="{fusion:render(path: '{item.state}.attributes.class', context: {item: item}) -> f:format.raw()}">
							<neos:link.node node="{item.node}">{item.label}</neos:link.node>
						</li>
					</f:for>
				</ul>
			</div>
		</div>
	</nav>
</f:section>

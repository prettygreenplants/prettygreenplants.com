{namespace neos=Neos\Neos\ViewHelpers}
{namespace fusion=Neos\Fusion\ViewHelpers}

<f:render section="itemList" arguments="{items: items, site: site}" />

<f:section name="itemList">
	<nav class="navbar navbar-default navbar-fixed-top topnav" role="navigation">
		<div class="container topnav">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-main-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>

				<a class="navbar-brand topnav" href="{neos:uri.node(node: '~')}">
					<img alt="{fusion:render(path: 'siteTitle')}" src="{f:uri.resource(path: 'img/logo.png', package: 'Sokly.PrettyGreenPlants')}">
				</a>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="navbar-main-collapse">
				<ul class="nav navbar-nav navbar-right">
					<f:for each="{items}" as="item">
						<li class="{fusion:render(path: '{item.state}.attributes.class', context: {item: item}) -> f:format.raw()}">
							<neos:link.node node="{item.node}">{item.label}</neos:link.node>
						</li>
					</f:for>
				</ul>
			</div>
		</div>
	</nav>
</f:section>
